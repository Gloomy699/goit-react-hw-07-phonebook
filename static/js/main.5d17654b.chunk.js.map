{"version":3,"sources":["Components/App.module.css","redux/phonebook/phonebook-selectors.js","redux/phonebook/phonebook-actions.js","redux/phonebook/phonebook-operations.js","redux/phonebook/phonebook-reducer.js","Components/ContactForm/ContactForm.js","Components/ContactList/ContactList.js","Components/Filter/Filter.js","Components/App.js","redux/store.js","index.js"],"names":["module","exports","getFilter","state","phonebook","filter","getContacts","contacts","getLoading","loading","getFilterContacts","createSelector","name","toLowerCase","includes","fetchContactRequest","createAction","fetchContactSuccess","fetchContactError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","axios","defaults","baseURL","dispatch","a","get","data","phone","contact","post","id","delete","getState","createReducer","_","payload","combineReducers","INITIAL_STATE","ContactForm","onFindName","onAddContact","useState","setState","handleChange","target","value","prevState","reset","className","onSubmit","evt","preventDefault","length","toast","warn","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","error","htmlFor","type","onChange","defaultProps","connect","phonebookOperations","ContactList","fetchContacts","removeContactId","useEffect","console","log","map","onClick","phonebookSelectors","Filter","onFilter","e","App","s","myPhonebook","bigHeader","smallHeader","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","store","configureStore","reducer","phonebookReducer","devTools","process","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.5d17654b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"App_header__3hOuJ\",\"myPhonebook\":\"App_myPhonebook__2CXH-\",\"bigHeader\":\"App_bigHeader__3jdfE\",\"smallHeader\":\"App_smallHeader__rZByT\"};","import { createSelector } from '@reduxjs/toolkit';\n\nconst getFilter = state => state.phonebook.filter;\nconst getContacts = state => state.phonebook.contacts;\nconst getLoading = state => state.phonebook.loading;\n\nconst getFilterContacts = createSelector(\n    [getFilter, getContacts], \n    (filter, contacts) =>{\n        return contacts.filter(({name}) => name.toLowerCase().includes(filter.toLowerCase()))\n    })\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default{\n    getFilter,\n    getContacts,\n    getLoading,\n    getFilterContacts\n}\n\n","import { createAction } from '@reduxjs/toolkit';\n\nexport const fetchContactRequest = createAction('phonebook/fetchContactRequest')\nexport const fetchContactSuccess = createAction('phonebook/fetchContactSuccess')\nexport const fetchContactError = createAction('phonebook/fetchContactError')\n\nexport const addContactRequest = createAction('phonebook/addContactRequest')\nexport const addContactSuccess = createAction('phonebook/addContactSuccess')\nexport const addContactError = createAction('phonebook/addContactError')\nexport const findContactName = createAction('phonebook/findContactName')\n\nexport const deleteContactRequest = createAction('phonebook/deleteContactRequest')\nexport const deleteContactSuccess = createAction('phonebook/deleteContactSuccess')\nexport const deleteContactError = createAction('phonebook/deleteContactError')\n\n\nexport const changeFilter = createAction('phonebook/changeFilter')\n\n","import axios from 'axios';\nimport {     \n    fetchContactRequest,\n    fetchContactSuccess,\n    fetchContactError,\n    addContactRequest,\n    addContactSuccess,\n    addContactError,\n    // eslint-disable-next-line no-unused-vars\n    findContactName,\n    deleteContactRequest,\n    deleteContactSuccess,\n    deleteContactError } from './phonebook-actions';\n\naxios.defaults.baseURL = 'http://localhost:3000';\n\nconst fetchContact = () => async dispatch => {\n\n    dispatch(fetchContactRequest())\n\n    try{\n        const { data } = await axios.get('/contacts');\n        dispatch(fetchContactSuccess(data))\n    }catch(err){\n        dispatch(fetchContactError(err))\n    }\n\n}\n\nconst addContact = (name, phone) => async dispatch => {\n    const contact = {name, phone}\n\n    dispatch(addContactRequest())\n\n    try{\n        const { data } = await axios.post('/contacts', contact);\n        dispatch(addContactSuccess(data))\n    }catch(err){\n        dispatch(addContactError(err))\n    }\n\n}\n\nconst deleteContact = id => async dispatch => {\n    dispatch(deleteContactRequest())\n\n    try{\n        await axios.delete(`/contacts/${id}`);\n        dispatch(deleteContactSuccess(id))\n    }catch(err){\n        dispatch(deleteContactError(err))\n    }\n\n}\n\nconst onFindName = name => (dispatch, getState) =>{\n    const { phonebook: {contacts}} = getState();\n\n    return contacts.filter(contact => contact.name === name)\n}\n\n\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default{\n    fetchContact,\n    addContact,\n    deleteContact,\n    onFindName\n}\n\n","import { createReducer } from '@reduxjs/toolkit';\nimport { combineReducers } from 'redux';\nimport {\n    fetchContactRequest,\n    fetchContactSuccess,\n    fetchContactError,\n    addContactRequest,\n    addContactSuccess,\n    addContactError,\n    deleteContactRequest,\n    deleteContactSuccess,\n    deleteContactError,\n    changeFilter\n} from './phonebook-actions';\n\nconst contacts = createReducer([], {\n    [fetchContactSuccess]: (_, {payload}) => payload,\n    [addContactSuccess]: (state, {payload}) => [...state, payload],\n    [deleteContactSuccess]: (state, {payload}) => state.filter( ({id}) => id !== payload)\n})\n\nconst filter = createReducer('', {\n    [changeFilter]: (_, {payload}) => payload\n})\n\nconst loading = createReducer(false, {\n    [fetchContactRequest]: () => true,\n    [fetchContactSuccess]: () => false,\n    [fetchContactError]: () => false,\n\n    [addContactRequest]: () => true,\n    [addContactSuccess]: () => false,\n    [addContactError]: () => false,\n\n    [deleteContactRequest]: () => true,\n    [deleteContactSuccess]: () => false,\n    [deleteContactError]: () => false,\n})\n\nexport default combineReducers({\n    contacts,\n    filter,\n    loading\n})\n\n","import React, { useState } from 'react';\nimport './ContactForm.css';\n\nimport PropTypes from 'prop-types';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport { connect } from 'react-redux';\nimport { phonebookOperations, phonebookSelectors } from './../../redux/phonebook';\n\n\nconst INITIAL_STATE = {\n    name:\"\",\n    phone:\"\"\n}\n\nconst ContactForm = ({ onFindName, onAddContact }) => {\n\n    const [state, setState] = useState({...INITIAL_STATE})\n    const {name, phone} = state;\n\n\n    const handleChange = ({target}) => {\n        const { name, value } = target;\n        \n        setState(prevState => ({...prevState, [name]:value}))\n    }\n\n    const handleSubmit = evt =>{\n        evt.preventDefault();\n\n\n        if(!name || !phone){\n            toast.error(\"Name or phone filed is empty.\", {\n                position: \"top-left\",\n                autoClose: 5000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined,\n                });\n            return false; \n        }\n\n\n        if(onFindName(name).length !== 0){\n            toast.warn(name + ' is already in contacts.', {\n                position: \"top-left\",\n                autoClose: 5000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined,\n                });\n            return false;\n        }\n\n        onAddContact(name, phone);\n\n        reset();\n    }\n\n\n    const reset = () => {\n        setState({ ...INITIAL_STATE });\n    };\n\n\n    return (\n        <>\n        <form className=\"phonebook\" onSubmit={handleSubmit}>\n            <label htmlFor=\"name_1\">Имя</label><br/>\n            <input type=\"text\" name=\"name\" id=\"name_1\" value={name} onChange={handleChange}/>\n            <br/>\n            <label htmlFor=\"phone_1\">Номер</label><br/>\n            <input type=\"tel\" name=\"phone\" id=\"phone_1\" value={phone} onChange={handleChange}/>\n            <br/>\n            <br/>\n            <button type=\"submit\">Добавить контакт</button>\n        </form>\n        <ToastContainer />\n        </>\n\n    );\n    \n}\n\nContactForm.defaultProps = {\n    onAddContact:() => {},\n    onFindName:() => {}\n}\n\nContactForm.propTypes = {\n    onAddContact:PropTypes.func,\n    onFindName:PropTypes.func\n}\n \n\nconst mapDispatchToProps = dispatch => ({\n    onAddContact: (name, phone) => dispatch(phonebookOperations.addContact(name, phone)),\n    onFindName: (name) => dispatch(phonebookOperations.onFindName(name))\n})\nexport default connect(null, mapDispatchToProps)(ContactForm)","import React, { useEffect } from 'react';\nimport  PropTypes from 'prop-types';\n\nimport { connect } from 'react-redux';\nimport './ContactList.css';\n// import phonebookOperations from './../../redux/phonebook/phonebook-operations';\n// import phonebookSelectors from './../../redux/phonebook/phonebook-selectors';\n\nimport {phonebookOperations, phonebookSelectors} from './../../redux/phonebook';\n\nconst ContactList = ({loading, contacts, fetchContacts, removeContactId }) => {\n\n    // \n    useEffect(()=>{\n        console.log(fetchContacts())\n    }, [fetchContacts])\n\n    return(\n        <>  \n            {loading && <h3>Loading</h3>}\n            <ul>\n                {\n                    contacts.map(({id, name, phone}) => (\n                        <li key={id}><span> {name}: {phone} </span><button className=\"contactDelBtn\" onClick={()=>{removeContactId(id)}}>Удалить</button> </li>\n                    ))\n                }\n            </ul>\n        </>\n    )\n}\n\nContactList.defaultProps = {\n    contacts:[],\n    removeContactId:() =>{}\n}\nContactList.propTypes = {\n    contacts:PropTypes.array.isRequired,\n    removeContactId:PropTypes.func\n}\n\n\nconst mapStateToProps = state =>({\n    loading:phonebookSelectors.getLoading(state),\n    contacts:phonebookSelectors.getFilterContacts(state)\n})\n\n\nconst mapDispatchToProps = dispatch =>({\n    fetchContacts: () => dispatch(phonebookOperations.fetchContact()),\n    removeContactId: id => dispatch(phonebookOperations.deleteContact(id))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ContactList)","import React from 'react'\nimport PropTypes from 'prop-types';\n\nimport { connect } from 'react-redux';\n\nimport { phonebookSelectors, changeFilter } from './../../redux/phonebook';\n\nimport './Filter.css';\n\n\nconst Filter = ({filter, onFilter}) => {\n\n    const handleSubmit = evt => {\n        evt.preventDefault();\n    }\n\n    return(\n        <form className=\"phoneList\"\n            onSubmit={handleSubmit}>\n            <label htmlFor=\"filter_1\">Поиск покнтакта по имени</label><br/>\n            <input type=\"text\" name=\"filter\" id=\"filter_1\" value={filter}  onChange={onFilter} />\n        </form>\n    );\n}\n\nFilter.defaultProps = {\n    filter:'',\n    onFilter:()=>{}\n}\nFilter.propTypes = {\n    filter:PropTypes.string.isRequired,\n    onFilter:PropTypes.func\n}\n\nconst mapStateToProps = state => ({\n    filter:phonebookSelectors.getFilter(state)\n});\n\nconst  mapDispatchToprops = dispatch =>({\n    onFilter: e => dispatch(changeFilter(e.target.value))\n})\n\nexport default connect(mapStateToProps, mapDispatchToprops)(Filter)","\nimport ContactForm from './ContactForm/ContactForm'\nimport ContactList from './ContactList/ContactList'\nimport Filter from './Filter/Filter'\nimport s from './App.module.css';\n\n\n\nexport default function App(){\n    return (\n        <>\n            <div className={s.myPhonebook}>\n                 <h1 className={s.bigHeader}>Моя телефонная книга</h1>\n            <h2 className={s.smallHeader}>Добавить контакт</h2>\n            <ContactForm />\n\n            <h2 className={s.smallHeader}>Мои контакты</h2>\n            <Filter/>\n            <ContactList />\n        </div> \n\n        </>\n    );\n}","\nimport { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport phonebookReducer from './../redux/phonebook/phonebook-reducer'\nimport logger from 'redux-logger'\nimport {\n    // eslint-disable-next-line no-unused-vars\n    persistStore,\n    // eslint-disable-next-line no-unused-vars\n    persistReducer,\n    FLUSH,\n    REHYDRATE,\n    PAUSE,\n    PERSIST,\n    PURGE,\n    REGISTER\n  } from 'redux-persist'\n\n\nconst middleware = [...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER]\n    }\n  }), logger]\n\n   \nconst store = configureStore({\n    reducer:{\n        phonebook:phonebookReducer\n    },\n    middleware,\n    devTools:process.env.NODE_ENV === 'development'\n})\n\n\n\nexport default store;\n\n","\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App';\nimport store from './redux/store';\nimport { Provider } from 'react-redux';\n\n\nReactDOM.render(\n   <Provider store={store}>\n            <App/>\n    </Provider>, \ndocument.querySelector('#root'));"],"sourceRoot":""}